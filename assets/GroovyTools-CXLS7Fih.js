import{j as e,r as s,a as g}from"./index-m4r0zWzM.js";import{i as m}from"./styled-LtqXCcwb.js";import{r as v}from"./createSvgIcon-bTAv9FHY.js";const j="_tool_155bp_1",b="_play_155bp_12",f={tool:j,play:b};var l={},h=m;Object.defineProperty(l,"__esModule",{value:!0});var _=l.default=void 0,C=h(v()),E=e;_=l.default=(0,C.default)((0,E.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline");var i={},P=m;Object.defineProperty(i,"__esModule",{value:!0});var y=i.default=void 0,R=P(v()),S=e;y=i.default=(0,R.default)((0,S.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 14H9V8h2zm4 0h-2V8h2z"}),"PauseCircle");function D({drone:t="./audio/drones/drone_c.mp3"}){const[o]=s.useState(new Audio(t)),[r]=s.useState(new Audio(t)),n=s.useRef(null),{dronePlaying:a,toggleDronePlaying:u}=g(),x=t.substring(t.indexOf("_")+1,t.indexOf(".mp3")).replace("sharp","#");return s.useEffect(function(){function c(d){var p;n.current&&d.target instanceof HTMLElement&&!((p=n.current)!=null&&p.contains(d.target))&&a&&u()}return document.addEventListener("click",c,!0),()=>{document.removeEventListener("click",c,!0)}},[a,u]),s.useEffect(()=>{a?(o.loop=!0,o.setAttribute("type","audio/ogg"),o.play(),r.loop=!0,r.setAttribute("type","audio/ogg"),setTimeout(()=>{r.play()},500)):(o.pause(),r.pause())},[a,o,r]),e.jsxs("div",{className:f.tool,children:[x," Drone",e.jsx("span",{ref:n,className:f.play,onClick:u,children:a?e.jsx(y,{}):e.jsx(_,{})})]})}const O="_toolbar_1gjpp_1",M={toolbar:O};function q({drone:t="./audio/drones/drone_c.mp3"}){return e.jsx("div",{className:M.toolbar,children:e.jsx(D,{drone:t})})}export{q as G};
